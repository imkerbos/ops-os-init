---
# =============================================================================
# Rocky Linux 9 主机清单
# =============================================================================
# 使用前取消注释并修改为实际主机地址
#
# 支持多种连接方式，按需选择：
#   1. root 直连（密码）     — 最简单，适合首次初始化
#   2. root 直连（SSH Key）  — 推荐，已配好免密登录
#   3. 普通用户 + sudo       — 目标机已禁止 root 登录时使用
#   4. 指定 SSH Key 文件     — 多密钥管理场景
#
# 分组说明：
#   rocky9        — 所有节点的父组，公共变量在 group_vars/rocky9.yml
#   db            — 数据库节点，覆盖变量在 group_vars/db.yml
#   cdn           — CDN / 反向代理节点，覆盖变量在 group_vars/cdn.yml
#   docker        — 容器宿主机，覆盖变量在 group_vars/docker.yml
#
# 变量优先级：主机变量 > 子组变量(db/cdn/docker) > 父组变量(rocky9) > role defaults
#
# 主机名设置：
#   在主机变量中定义 ops_hostname 即可自动设置主机名
#   留空或不定义则跳过主机名设置
# =============================================================================

all:
  children:
    rocky9:
      children:
        # ---------------------------------------------------------------
        # 数据库节点（MySQL / PostgreSQL / Redis 等）
        # ---------------------------------------------------------------
        db:
          hosts:
            # db1:
            #   ansible_host: 203.0.113.20
            #   ansible_user: root
            #   ansible_ssh_private_key_file: ~/.ssh/id_ed25519
            #   ops_hostname: db1.example.com
            # db2:
            #   ansible_host: 203.0.113.21
            #   ops_hostname: db2.example.com

        # ---------------------------------------------------------------
        # CDN / 反向代理节点（Nginx / HAProxy 等）
        # ---------------------------------------------------------------
        cdn:
          hosts:
            # cdn1:
            #   ansible_host: 203.0.113.30
            #   ansible_user: root
            #   ansible_ssh_private_key_file: ~/.ssh/id_ed25519
            #   ops_hostname: cdn1.example.com
            # cdn2:
            #   ansible_host: 203.0.113.31
            #   ops_hostname: cdn2.example.com

        # ---------------------------------------------------------------
        # 容器宿主机（Docker / Podman）
        # ---------------------------------------------------------------
        docker:
          hosts:
            # docker1:
            #   ansible_host: 203.0.113.40
            #   ansible_user: root
            #   ansible_ssh_private_key_file: ~/.ssh/id_ed25519
            #   ops_hostname: docker1.example.com

        # ---------------------------------------------------------------
        # 通用节点（不属于以上分组的服务器）
        # ---------------------------------------------------------------
        general:
          hosts:
            # ----- root + 密码登录 -----
            # node1:
            #   ansible_host: 203.0.113.10
            #   ansible_user: root
            #   ansible_password: "your_root_password"
            #   ops_hostname: node1.example.com

            # ----- root + SSH Key（推荐）-----
            # node2:
            #   ansible_host: 203.0.113.11
            #   ansible_user: root
            #   ansible_ssh_private_key_file: ~/.ssh/id_ed25519
            #   ops_hostname: node2.example.com

            # ----- 普通用户 + sudo -----
            # node3:
            #   ansible_host: 203.0.113.12
            #   ansible_user: ops
            #   ansible_become_password: "your_sudo_password"
            #   ansible_ssh_private_key_file: ~/.ssh/id_ed25519
            #   ops_hostname: node3.example.com

            # ----- 非标准 SSH 端口 -----
            # node4:
            #   ansible_host: 203.0.113.13
            #   ansible_user: root
            #   ansible_port: 2222
            #   ansible_ssh_private_key_file: ~/.ssh/id_ed25519
            #   ops_hostname: node4.example.com

      # 组级别默认变量（可被子组和主机级别覆盖）
      vars:
        ansible_user: root
        # ansible_port: 22
        # ansible_ssh_private_key_file: ~/.ssh/id_ed25519
        # ansible_become_password: "{{ vault_become_password }}"
