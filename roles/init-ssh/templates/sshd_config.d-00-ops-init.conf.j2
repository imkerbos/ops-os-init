# Managed by ops-os-init — SSH 主配置加固
# /etc/ssh/sshd_config.d/00-ops-init.conf

Port {{ ops_ssh_port }}
PermitRootLogin {{ ops_ssh_permit_root_login }}
PasswordAuthentication {{ ops_ssh_password_authentication }}
MaxAuthTries {{ ops_ssh_max_auth_tries }}
ClientAliveInterval {{ ops_ssh_client_alive_interval }}
ClientAliveCountMax {{ ops_ssh_client_alive_count_max }}
X11Forwarding {{ ops_ssh_x11_forwarding }}
AllowTcpForwarding {{ ops_ssh_allow_tcp_forwarding }}
MaxSessions {{ ops_ssh_max_sessions }}
LoginGraceTime {{ ops_ssh_login_grace_time }}
MaxStartups {{ ops_ssh_max_startups }}
LogLevel {{ ops_ssh_log_level }}
PermitUserEnvironment {{ ops_ssh_permit_user_environment }}
Ciphers {{ ops_ssh_ciphers }}
MACs {{ ops_ssh_macs }}
KexAlgorithms {{ ops_ssh_kex_algorithms }}
HostKeyAlgorithms {{ ops_ssh_host_key_algorithms }}
{% if ops_ssh_banner_enabled %}
Banner /etc/issue.net
{% endif %}
PubkeyAuthentication yes
UsePAM yes
ChallengeResponseAuthentication no
UseDNS no
GSSAPIAuthentication no
PermitEmptyPasswords no
SyslogFacility AUTHPRIV
PrintMotd no
